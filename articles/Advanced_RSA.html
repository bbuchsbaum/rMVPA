<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Advanced RSA Methods: Feature-Based and Vector-Based Approaches • rMVPA</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Advanced RSA Methods: Feature-Based and Vector-Based Approaches">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rMVPA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Advanced RSA Methods: Feature-Based and Vector-Based Approaches</h1>
                        <h4 data-toc-skip class="author">Bradley
Buchsbaum</h4>
            
            <h4 data-toc-skip class="date">2025-09-28</h4>
      

      <div class="d-none name"><code>Advanced_RSA.Rmd</code></div>
    </div>

    
    
<pre><code><span><span class="co">## Warning in rgl.init(initValue, onlyNULL): RGL: unable to open X11 display</span></span></code></pre>
<pre><code><span><span class="co">## Warning: 'rgl.init' failed, will use the null device.</span></span>
<span><span class="co">## See '?rgl.useNULL' for ways to avoid this warning.</span></span></code></pre>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Standard Representational Similarity Analysis (RSA) compares neural
response patterns with model‑based similarity structures. In practice,
you may want stronger control over the feature space, or more efficient
handling of distance vectors and block structure. This vignette
introduces two specialized variants in <code>rMVPA</code>—Feature‑Based
RSA and Vector‑Based RSA—and shows when they offer advantages over
standard RSA.</p>
</div>
<div class="section level2">
<h2 id="feature-based-rsa">Feature-Based RSA<a class="anchor" aria-label="anchor" href="#feature-based-rsa"></a>
</h2>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>Feature‑Based RSA is useful when you have a well‑defined feature
space for your stimuli and want to directly map neural activity into
that space—for example, reconstructing semantic or visual features from
brain responses. Rather than correlating similarity matrices, the method
learns a mapping from neural patterns to feature dimensions and
evaluates how well those features are recovered.</p>
</div>
<div class="section level3">
<h3 id="key-differences-from-standard-rsa">Key differences from standard RSA<a class="anchor" aria-label="anchor" href="#key-differences-from-standard-rsa"></a>
</h3>
<p>The core distinction is that Feature‑Based RSA predicts feature
values directly, whereas standard RSA compares similarity structures.
Outputs are therefore different: standard RSA produces associations
between RDMs, while Feature‑Based RSA yields predicted feature values
per stimulus. This makes Feature‑Based RSA a natural choice for
reconstruction tasks, while standard RSA remains ideal for testing
theoretical representational models.</p>
</div>
<div class="section level3">
<h3 id="implementation-example">Implementation Example<a class="anchor" aria-label="anchor" href="#implementation-example"></a>
</h3>
<p>Let’s walk through a complete example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Generate data and weakly-correlated features</span></span>
<span><span class="co"># Synthetic dataset: 6x6x6, 50 observations (4 blocks)</span></span>
<span><span class="va">data_out</span> <span class="op">&lt;-</span> <span class="fu">rMVPA</span><span class="fu">::</span><span class="fu"><a href="../reference/gen_sample_dataset.html">gen_sample_dataset</a></span><span class="op">(</span>D <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span>,<span class="fl">6</span><span class="op">)</span>, nobs <span class="op">=</span> <span class="fl">50</span>, blocks <span class="op">=</span> <span class="fl">4</span>, nlevels <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">data_out</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $dataset</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  <span style="color: #00BBBB; font-weight: bold;">█▀▀ MVPA Dataset ▀▀█</span> </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #BBBB00;">├─ Training Data</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  ├─ Dimensions: </span> <span style="color: #00BB00;">6 × 6 × 6 × </span><span style="color: #0000BB; font-style: italic;">50</span><span style="color: #00BB00;"> observations</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  └─ Type: </span> DenseNeuroVec </span></span>
<span><span class="co">## <span style="color: #BBBB00;">├─ Test Data</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  └─ </span> <span style="color: #BB0000;">None</span> </span></span>
<span><span class="co">## <span style="color: #BBBB00;">└─ Mask Information</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">   ├─ Areas: </span> 1 : <span style="color: #00BB00;">120</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">   └─ Active voxels/vertices: </span> <span style="color: #00BB00;">120</span> </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $design</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  <span style="color: #00BBBB; font-weight: bold;">█▀▀ MVPA Design ▀▀█</span> </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #BBBB00;">├─ Training Data</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  ├─ Observations: </span> <span style="color: #00BB00;">50</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  ├─ Response Type: </span> Factor</span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  ├─ Levels: </span> <span style="color: #0000BB;">a, b</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  └─ Class Distribution: </span> <span style="color: #00BB00;">a: 25, b: 25</span> </span></span>
<span><span class="co">## <span style="color: #BBBB00;">├─ Test Data</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">│  └─ </span> <span style="color: #BB0000;">None</span> </span></span>
<span><span class="co">## <span style="color: #BBBB00;">└─ Structure</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">   ├─ Blocking: </span> Present</span></span>
<span><span class="co">## <span style="color: #BBBBBB;">   ├─ Number of Blocks: </span> <span style="color: #00BB00;">4</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">   ├─ Mean Block Size: </span> <span style="color: #00BB00;">12</span> <span style="color: #BBBBBB; font-style: italic;"> (SD: </span> <span style="color: #00BB00;">0.58</span> <span style="color: #BBBBBB; font-style: italic;">)</span> </span></span>
<span><span class="co">## <span style="color: #BBBBBB;">   └─ Split Groups: </span> <span style="color: #BB0000;">None</span></span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">n_stimuli</span>  <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span><span class="va">n_features</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span></span>
<span><span class="co"># Latent factors shared between features and brain data (weak signal)</span></span>
<span><span class="va">Z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n_stimuli</span> <span class="op">*</span> <span class="fl">2</span><span class="op">)</span>, <span class="va">n_stimuli</span>, <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build a weakly-correlated feature matrix: F = 0.5 * (Z %*% B) + 0.5 * noise</span></span>
<span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">n_features</span><span class="op">)</span>, <span class="fl">2</span>, <span class="va">n_features</span><span class="op">)</span></span>
<span><span class="va">feature_matrix</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="op">(</span><span class="va">Z</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">B</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n_stimuli</span> <span class="op">*</span> <span class="va">n_features</span><span class="op">)</span>, <span class="va">n_stimuli</span>, <span class="va">n_features</span><span class="op">)</span></span>
<span><span class="va">feature_matrix</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">feature_matrix</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">feature_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"feature_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">n_features</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create stimulus labels</span></span>
<span><span class="va">stim_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"stim_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">n_stimuli</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a subtle latent signal in the brain data driven by the same Z</span></span>
<span><span class="va">mask_vol</span> <span class="op">&lt;-</span> <span class="va">data_out</span><span class="op">$</span><span class="va">dataset</span><span class="op">$</span><span class="va">mask</span></span>
<span><span class="co"># Extract logical mask values and indices</span></span>
<span><span class="va">mask_vals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">as.logical</a></span><span class="op">(</span><span class="fu">neuroim2</span><span class="fu">::</span><span class="fu"><a href="https://bbuchsbaum.github.io/neuroim2/reference/values-methods.html" class="external-link">values</a></span><span class="op">(</span><span class="va">mask_vol</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mask_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">mask_vals</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract masked voxel-by-time matrix from NeuroVec (V x T)</span></span>
<span><span class="va">vol_list</span> <span class="op">&lt;-</span> <span class="fu">neuroim2</span><span class="fu">::</span><span class="fu"><a href="https://bbuchsbaum.github.io/neuroim2/reference/vols-methods.html" class="external-link">vols</a></span><span class="op">(</span><span class="va">data_out</span><span class="op">$</span><span class="va">dataset</span><span class="op">$</span><span class="va">train_data</span><span class="op">)</span></span>
<span><span class="va">datamat</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">cbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">vol_list</span>, <span class="kw">function</span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">v</span><span class="op">[</span><span class="va">mask_idx</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Two random spatial patterns within the mask</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">124</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">mask_idx</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">mask_idx</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="va">p1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span>; <span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">p2</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inject weak signal into brain data: X &lt;- X + 0.2 * (p1 %*% t(Z1)) + 0.2 * (p2 %*% t(Z2))</span></span>
<span><span class="va">datamat</span> <span class="op">&lt;-</span> <span class="va">datamat</span> <span class="op">+</span> <span class="va">p1</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fl">0.2</span> <span class="op">*</span> <span class="va">Z</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="va">p2</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fl">0.2</span> <span class="op">*</span> <span class="va">Z</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Repackage as a NeuroVec using the existing space and logical mask</span></span>
<span><span class="va">train_vec</span> <span class="op">&lt;-</span> <span class="fu">neuroim2</span><span class="fu">::</span><span class="fu"><a href="https://bbuchsbaum.github.io/neuroim2/reference/SparseNeuroVec-class.html" class="external-link">SparseNeuroVec</a></span><span class="op">(</span><span class="va">datamat</span>, <span class="fu">neuroim2</span><span class="fu">::</span><span class="fu"><a href="https://bbuchsbaum.github.io/neuroim2/reference/space-methods.html" class="external-link">space</a></span><span class="op">(</span><span class="va">data_out</span><span class="op">$</span><span class="va">dataset</span><span class="op">$</span><span class="va">train_data</span><span class="op">)</span>, mask <span class="op">=</span> <span class="va">mask_vals</span><span class="op">)</span></span>
<span><span class="va">dset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mvpa_dataset.html">mvpa_dataset</a></span><span class="op">(</span><span class="va">train_vec</span>, mask <span class="op">=</span> <span class="va">mask_vol</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create feature RSA design from the correlated feature matrix</span></span>
<span><span class="va">feature_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/feature_rsa_design.html">feature_rsa_design</a></span><span class="op">(</span></span>
<span>  F <span class="op">=</span> <span class="va">feature_matrix</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">stim_labels</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create cross-validation structure using the block information</span></span>
<span><span class="va">crossval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cross_validation.html">blocked_cross_validation</a></span><span class="op">(</span><span class="va">data_out</span><span class="op">$</span><span class="va">design</span><span class="op">$</span><span class="va">block_var</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create feature RSA model</span></span>
<span><span class="va">feature_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/feature_rsa_model.html">feature_rsa_model</a></span><span class="op">(</span></span>
<span>  dataset <span class="op">=</span> <span class="va">dset</span>,</span>
<span>  design <span class="op">=</span> <span class="va">feature_design</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"pls"</span>,  <span class="co"># Partial Least Squares</span></span>
<span>  crossval <span class="op">=</span> <span class="va">crossval</span>  <span class="co"># Add cross-validation</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create proper region mask from the dataset's mask</span></span>
<span><span class="va">mask_vol</span> <span class="op">&lt;-</span> <span class="va">data_out</span><span class="op">$</span><span class="va">dataset</span><span class="op">$</span><span class="va">mask</span></span>
<span><span class="va">nvox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">mask_vol</span><span class="op">)</span></span>
<span><span class="va">region_mask</span> <span class="op">&lt;-</span> <span class="fu">neuroim2</span><span class="fu">::</span><span class="fu"><a href="https://bbuchsbaum.github.io/neuroim2/reference/NeuroVol.html" class="external-link">NeuroVol</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, size <span class="op">=</span> <span class="va">nvox</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,  <span class="co"># 3 regions</span></span>
<span>  <span class="fu">space</span><span class="op">(</span><span class="va">mask_vol</span><span class="op">)</span>,</span>
<span>  indices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">mask_vol</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run regional analysis</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_regional-methods.html">run_regional</a></span><span class="op">(</span><span class="va">feature_model</span>, <span class="va">region_mask</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO [2025-09-28 01:07:06] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Examine results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">performance_table</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 10</span></span></span>
<span><span class="co">##   roinum mean_correlation cor_difference mean_rank_percentile voxel_correlation</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1         -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">60</span>       -<span style="color: #BB0000;">0.002</span><span style="color: #BB0000; text-decoration: underline;">34</span>                0.501            0.072<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2          0.027<span style="text-decoration: underline;">1</span>         0.025<span style="text-decoration: underline;">1</span>                 0.496            0.108 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3          0.058<span style="text-decoration: underline;">3</span>         0.050<span style="text-decoration: underline;">8</span>                 0.566            0.120 </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 5 more variables: mse &lt;dbl&gt;, r_squared &lt;dbl&gt;, cor_temporal_means &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   mean_voxelwise_temporal_cor &lt;dbl&gt;, ncomp &lt;dbl&gt;</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="available-methods">Available methods<a class="anchor" aria-label="anchor" href="#available-methods"></a>
</h3>
<p>Feature‑Based RSA supports several estimators. PLS finds components
that maximize covariance between brain data and features, and works well
when features are correlated. PCA reduces the feature space before
regression, providing a compact, interpretable basis. GLMNet (elastic
net) adds regularization that helps with feature selection and
multicollinearity.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare different methods</span></span>
<span><span class="va">methods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pls"</span>, <span class="st">"pca"</span>, <span class="st">"glmnet"</span><span class="op">)</span></span>
<span><span class="va">results_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">methods</span>, <span class="kw">function</span><span class="op">(</span><span class="va">method</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/feature_rsa_model.html">feature_rsa_model</a></span><span class="op">(</span></span>
<span>    dataset <span class="op">=</span> <span class="va">dset</span>,</span>
<span>    design <span class="op">=</span> <span class="va">feature_design</span>,</span>
<span>    method <span class="op">=</span> <span class="va">method</span>,</span>
<span>    crossval <span class="op">=</span> <span class="va">crossval</span>  <span class="co"># Add cross-validation</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/run_regional-methods.html">run_regional</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">region_mask</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO [2025-09-28 01:07:09] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span>
<span><span class="co">## INFO [2025-09-28 01:07:12] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span>
<span><span class="co">## WARN [2025-09-28 01:07:13] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:13] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:13] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:13] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:14] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:14] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:14] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:15] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:16] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:16] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:16] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## WARN [2025-09-28 01:07:16] evaluate_model: No columns with finite variance; returning NA metrics.</span></span>
<span><span class="co">## INFO [2025-09-28 01:07:16] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare performance</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">methods</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nMethod:"</span>, <span class="va">methods</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_list</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">performance_table</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Method: pls </span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 10</span></span></span>
<span><span class="co">##   roinum mean_correlation cor_difference mean_rank_percentile voxel_correlation</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1         -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">60</span>       -<span style="color: #BB0000;">0.002</span><span style="color: #BB0000; text-decoration: underline;">34</span>                0.501            0.072<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2          0.027<span style="text-decoration: underline;">1</span>         0.025<span style="text-decoration: underline;">1</span>                 0.496            0.108 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3          0.058<span style="text-decoration: underline;">3</span>         0.050<span style="text-decoration: underline;">8</span>                 0.566            0.120 </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 5 more variables: mse &lt;dbl&gt;, r_squared &lt;dbl&gt;, cor_temporal_means &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   mean_voxelwise_temporal_cor &lt;dbl&gt;, ncomp &lt;dbl&gt;</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Method: pca </span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 10</span></span></span>
<span><span class="co">##   roinum mean_correlation cor_difference mean_rank_percentile voxel_correlation</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1         -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">60</span>       -<span style="color: #BB0000;">0.002</span><span style="color: #BB0000; text-decoration: underline;">34</span>                0.501            0.072<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2          0.027<span style="text-decoration: underline;">1</span>         0.025<span style="text-decoration: underline;">1</span>                 0.496            0.108 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3          0.058<span style="text-decoration: underline;">3</span>         0.050<span style="text-decoration: underline;">8</span>                 0.566            0.120 </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 5 more variables: mse &lt;dbl&gt;, r_squared &lt;dbl&gt;, cor_temporal_means &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   mean_voxelwise_temporal_cor &lt;dbl&gt;, ncomp &lt;dbl&gt;</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Method: glmnet </span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 10</span></span></span>
<span><span class="co">##   roinum mean_correlation cor_difference mean_rank_percentile voxel_correlation</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1           -<span style="color: #BB0000;">0.213</span>         -<span style="color: #BB0000;">0.205</span>               0.101           -<span style="color: #BB0000;">0.022</span><span style="color: #BB0000; text-decoration: underline;">3</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2           -<span style="color: #BB0000;">0.219</span>         -<span style="color: #BB0000;">0.225</span>               0.090<span style="text-decoration: underline;">9</span>           0.009<span style="text-decoration: underline;">86</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3           -<span style="color: #BB0000;">0.209</span>         -<span style="color: #BB0000;">0.213</span>               0.093<span style="text-decoration: underline;">1</span>          -<span style="color: #BB0000;">0.029</span><span style="color: #BB0000; text-decoration: underline;">9</span> </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 5 more variables: mse &lt;dbl&gt;, r_squared &lt;dbl&gt;, cor_temporal_means &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   mean_voxelwise_temporal_cor &lt;dbl&gt;, ncomp &lt;dbl&gt;</span></span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="vector-based-rsa">Vector-Based RSA<a class="anchor" aria-label="anchor" href="#vector-based-rsa"></a>
</h2>
<div class="section level3">
<h3 id="overview-1">Overview<a class="anchor" aria-label="anchor" href="#overview-1"></a>
</h3>
<p>Vector‑Based RSA starts from pre‑computed distance matrices and
operates directly on vectorized distances. It is particularly helpful
when you need to ignore within‑block comparisons or scale to large
datasets—it avoids materializing full similarity matrices and handles
blocks efficiently.</p>
</div>
<div class="section level3">
<h3 id="key-differences-from-standard-rsa-1">Key differences from standard RSA<a class="anchor" aria-label="anchor" href="#key-differences-from-standard-rsa-1"></a>
</h3>
<p>Compared to standard RSA, the vector approach (i) works on distance
vectors instead of full matrices, (ii) builds block‑wise exclusions into
the workflow, and (iii) reduces memory use by retaining only the
necessary comparisons. These properties make it a good fit for
high‑resolution or long‑duration datasets.</p>
</div>
<div class="section level3">
<h3 id="implementation-example-1">Implementation Example<a class="anchor" aria-label="anchor" href="#implementation-example-1"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create distance matrix for stimuli</span></span>
<span><span class="va">stim_distances</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">feature_matrix</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">stim_distances</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">stim_labels</span></span>
<span></span>
<span><span class="co"># Create block structure (e.g., runs)</span></span>
<span><span class="va">blocks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, length.out <span class="op">=</span> <span class="va">n_stimuli</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create vector RSA design</span></span>
<span><span class="va">vector_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vector_rsa_design.html">vector_rsa_design</a></span><span class="op">(</span></span>
<span>    D <span class="op">=</span> <span class="va">stim_distances</span>,</span>
<span>    labels <span class="op">=</span> <span class="va">stim_labels</span>,</span>
<span>    block_var <span class="op">=</span> <span class="va">blocks</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create vector RSA model</span></span>
<span><span class="va">vector_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vector_rsa_model.html">vector_rsa_model</a></span><span class="op">(</span></span>
<span>  dataset <span class="op">=</span> <span class="va">dset</span>,</span>
<span>  design <span class="op">=</span> <span class="va">vector_design</span>,</span>
<span>  distfun <span class="op">=</span> <span class="fu"><a href="../reference/distance-constructors.html">cordist</a></span><span class="op">(</span><span class="op">)</span>,  <span class="co"># Correlation distance</span></span>
<span>  rsa_simfun <span class="op">=</span> <span class="st">"pearson"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run analysis</span></span>
<span><span class="va">results_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_regional-methods.html">run_regional</a></span><span class="op">(</span><span class="va">vector_model</span>, <span class="va">region_mask</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO [2025-09-28 01:07:19] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Examine results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_vector</span><span class="op">$</span><span class="va">performance_table</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">##   roinum rsa_score</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1    0.095<span style="text-decoration: underline;">4</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2    0.090<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3    0.127</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="efficient-block-handling">Efficient Block Handling<a class="anchor" aria-label="anchor" href="#efficient-block-handling"></a>
</h3>
<p>Vector-Based RSA automatically handles block structure:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare with different block structures</span></span>
<span><span class="va">block_sizes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">results_blocks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">block_sizes</span>, <span class="kw">function</span><span class="op">(</span><span class="va">size</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">blocks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">n_stimuli</span><span class="op">/</span><span class="va">size</span><span class="op">)</span>, each <span class="op">=</span> <span class="va">size</span><span class="op">)</span></span>
<span>  <span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vector_rsa_design.html">vector_rsa_design</a></span><span class="op">(</span></span>
<span>    D <span class="op">=</span> <span class="va">stim_distances</span>,</span>
<span>    labels <span class="op">=</span> <span class="va">stim_labels</span>,</span>
<span>    block_var <span class="op">=</span> <span class="va">blocks</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vector_rsa_model.html">vector_rsa_model</a></span><span class="op">(</span></span>
<span>    dataset <span class="op">=</span> <span class="va">dset</span>,</span>
<span>    design <span class="op">=</span> <span class="va">design</span>,</span>
<span>    distfun <span class="op">=</span> <span class="fu"><a href="../reference/distance-constructors.html">cordist</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/run_regional-methods.html">run_regional</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">region_mask</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO [2025-09-28 01:07:22] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span>
<span><span class="co">## INFO [2025-09-28 01:07:25] </span></span>
<span><span class="co">## ✨ MVPA Iteration Complete</span></span>
<span><span class="co">## ├─ Total ROIs: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## ├─ Processed: <span style="color: #0000BB;">3</span></span></span>
<span><span class="co">## └─ Skipped: <span style="color: #BBBB00;">0</span></span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare results</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">block_sizes</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nBlock size:"</span>, <span class="va">block_sizes</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_blocks</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">performance_table</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Block size: 5 </span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">##   roinum rsa_score</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1    0.085<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2    0.113 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3    0.124 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Block size: 10 </span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">##   roinum rsa_score</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>      1    0.082<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>      2    0.121 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>      3    0.145</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="when-to-use-each-method">When to Use Each Method<a class="anchor" aria-label="anchor" href="#when-to-use-each-method"></a>
</h2>
<div class="section level3">
<h3 id="featurebased-rsa">Feature‑Based RSA<a class="anchor" aria-label="anchor" href="#featurebased-rsa"></a>
</h3>
<p>Choose Feature‑Based RSA when you have a meaningful feature space and
care about predicting or reconstructing those dimensions from neural
activity (e.g., semantic features in language regions, low‑level visual
features in early visual cortex).</p>
</div>
<div class="section level3">
<h3 id="vectorbased-rsa">Vector‑Based RSA<a class="anchor" aria-label="anchor" href="#vectorbased-rsa"></a>
</h3>
<p>Use Vector‑Based RSA for large datasets or when block handling is
central to your design. Working with vectorized distances keeps memory
use in check and makes across‑block comparisons straightforward.</p>
</div>
<div class="section level3">
<h3 id="standard-rsa">Standard RSA<a class="anchor" aria-label="anchor" href="#standard-rsa"></a>
</h3>
<p>Standard RSA remains the best choice when your primary goal is to
test theoretical similarity structures and neither strict block handling
nor extreme memory efficiency is required.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p><code>rMVPA</code> offers three complementary RSA workflows: standard
RSA for model testing, Feature‑Based RSA for direct feature
reconstruction, and Vector‑Based RSA for efficient block‑aware distance
comparisons. Pick the approach that matches your research goal, data
structure, and computational budget.</p>
<p>For implementation details, see the reference pages for
<code><a href="../reference/feature_rsa_model.html">feature_rsa_model()</a></code>, <code><a href="../reference/vector_rsa_model.html">vector_rsa_model()</a></code>, and
<code><a href="../reference/rsa_model.html">rsa_model()</a></code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
