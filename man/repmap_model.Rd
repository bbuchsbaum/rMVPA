% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/repmap_model.R
\name{repmap_model}
\alias{repmap_model}
\title{Representational mapping model (ReNA-Map)}
\usage{
repmap_model(
  dataset,
  design,
  repmap_des,
  key_var,
  rank = "auto",
  max_rank = 20,
  ridge_lambda = NULL,
  ...
)
}
\arguments{
\item{dataset}{An \code{mvpa_dataset}.}

\item{design}{An \code{mvpa_design}.}

\item{repmap_des}{Output of \code{\link{repmap_design}}.}

\item{key_var}{Column or formula giving item identity (e.g. \code{~ ImageID}).}

\item{rank}{\code{"auto"} for \code{rrpack::cv.rrr} rank selection, integer for
fixed rank, or \code{0} for no mapping (zero map; not an identity transform).}

\item{max_rank}{Maximum rank to search.}

\item{ridge_lambda}{Optional ridge penalty lambda for \code{rrpack::rrs.fit}.}

\item{...}{Extra fields stored on the model spec.}
}
\value{
A model spec of class \code{"repmap_model"}.
}
\description{
For each ROI/searchlight, fits a reduced-rank regression from seed feature
vectors (X) to ROI item-level patterns (Y), summarizing mapping rank and fit.
}
\details{
Internally, the item-level seed features (X) and ROI patterns (Y) are column-centered
prior to reduced-rank regression. Returned voxelwise R-squared values are in-sample and may be
negative when the mapping underperforms the mean model; this can be useful as a diagnostic
rather than an error.
}
\examples{
\dontrun{
  # Requires repmap_design with seed features
  # model <- repmap_model(dataset, design, repmap_des, key_var=~ImageID)
}
}
