% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/allgeneric.R
\name{run_regional}
\alias{run_regional}
\title{Region of Interest Based MVPA Analysis}
\usage{
run_regional(model_spec, region_mask, ...)
}
\arguments{
\item{model_spec}{A \code{mvpa_model} instance containing the model specifications}

\item{region_mask}{A \code{NeuroVol} or \code{NeuroSurface} object where each region is identified by a unique integer}

\item{...}{Extra arguments passed to specific regional analysis methods}
}
\value{
A named list containing:
  \item{performance}{Performance metrics for each region}
  \item{prediction_table}{Predictions for each region}
  \item{fits}{Model fits if return_fits=TRUE}
}
\description{
Run a separate MVPA analysis for multiple disjoint regions of interest.
}
\examples{
\donttest{
  # Generate sample dataset (3D volume with categorical response)
  dataset <- gen_sample_dataset(
    D = c(10,10,10),       # Small 10x10x10 volume
    nobs = 100,            # 100 observations
    nlevels = 3,           # 3 classes
    response_type = "categorical",
    data_mode = "image",
    blocks = 3             # 3 blocks for cross-validation
  )
  
  # Create region mask with 5 ROIs
  region_mask <- NeuroVol(
    sample(1:5, size=length(dataset$dataset$mask), replace=TRUE),
    space(dataset$dataset$mask)
  )
  
  # Create cross-validation specification
  cval <- blocked_cross_validation(dataset$design$block_var)
  
  # Load SDA classifier (Shrinkage Discriminant Analysis)
  model <- load_model("sda_notune")
  
  # Create MVPA model
  mspec <- mvpa_model(
    model = model,
    dataset = dataset$dataset,
    design = dataset$design,
    model_type = "classification",
    crossval = cval,
    return_fits = TRUE    # Return fitted models
  )
  
  # Run regional analysis
  results <- run_regional(mspec, region_mask)
  
  # Access results
  head(results$performance)           # Performance metrics
  head(results$prediction_table)      # Predictions
  first_roi_fit <- results$fits[[1]]  # First ROI's fitted model
}

}
