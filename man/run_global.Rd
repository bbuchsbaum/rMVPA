% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/allgeneric.R, R/global_analysis.R
\name{run_global}
\alias{run_global}
\alias{run_global.mvpa_model}
\title{Run Global (Whole-Brain) MVPA Analysis}
\usage{
run_global(model_spec, ...)

\method{run_global}{mvpa_model}(
  model_spec,
  X = NULL,
  summary_fun = NULL,
  return_fits = FALSE,
  aggregation = c("mean", "sum", "maxabs"),
  ...
)
}
\arguments{
\item{model_spec}{An \code{mvpa_model} specification.}

\item{...}{Additional arguments (currently unused).}

\item{X}{Optional pre-computed T x P feature matrix. If NULL, extracted
from \code{model_spec$dataset} via \code{get_feature_matrix}.}

\item{summary_fun}{Function to summarize activation pattern matrix rows
into a scalar importance per feature. Default: L2 norm.}

\item{return_fits}{Logical; if TRUE, store per-fold model fits.}

\item{aggregation}{How to aggregate multi-basis feature importance (default "mean").}
}
\value{
A \code{global_mvpa_result} object.

A \code{global_mvpa_result} object.
}
\description{
Train a single classifier on ALL features (parcels or voxels) with
cross-validation, and compute per-feature importance via Haufe et al.
(2014) activation patterns.
}
\section{Architecture TODO}{

\code{run_global} currently uses a dedicated global CV/training pipeline
rather than dispatching through \code{\link{fit_roi}}. This is intentional
for now; future cleanup may unify global and ROI fitting interfaces.
}

\examples{
\donttest{
  ds <- gen_sample_dataset(c(5,5,5), 40, nlevels=2, blocks=3)
  cval <- blocked_cross_validation(ds$design$block_var)
  mdl <- load_model("sda_notune")
  mspec <- mvpa_model(mdl, ds$dataset, ds$design,
    "classification", crossval=cval)
  result <- run_global(mspec)
}
}
