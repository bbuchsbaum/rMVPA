% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/importance.R
\name{haufe_importance}
\alias{haufe_importance}
\title{Haufe Feature Importance (Activation Patterns)}
\usage{
haufe_importance(W, Sigma_x, summary_fun = function(A) sqrt(rowSums(A^2)))
}
\arguments{
\item{W}{A P x D weight matrix (features x discriminant directions).}

\item{Sigma_x}{A P x P covariance matrix of the training features.}

\item{summary_fun}{A function applied to the rows of A to produce a scalar
importance per feature. Defaults to the L2 norm across discriminants.}
}
\value{
A list with components:
  \describe{
    \item{A}{The P x D activation pattern matrix.}
    \item{importance}{A numeric vector of length P with per-feature importance.}
  }
}
\description{
Computes per-feature importance using the Haufe et al. (2014) transformation
from decoding weights to encoding (activation) patterns:
\code{A = Sigma_x \%*\% W \%*\% solve(t(W) \%*\% Sigma_x \%*\% W)}.
}
\examples{
\donttest{
  W <- matrix(rnorm(10*2), 10, 2)
  X <- matrix(rnorm(50*10), 50, 10)
  haufe_importance(W, cov(X))
}
}
\references{
Haufe, S., Meinecke, F., Goergen, K., Daehne, S., Haynes, J.D.,
Blankertz, B., & Biessmann, F. (2014). On the interpretation of weight
vectors of linear models in multivariate neuroimaging. NeuroImage, 87, 96-110.
}
