% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/regional.R
\name{combine_prediction_tables}
\alias{combine_prediction_tables}
\title{Combine prediction tables}
\usage{
combine_prediction_tables(
  predtabs,
  wts = rep(1, length(predtabs)),
  collapse_regions = FALSE
)
}
\arguments{
\item{predtabs}{A list of prediction tables (data frames) to be combined.}

\item{wts}{A vector of weights, with the same length as \code{predtabs}. Default is equal weights.}

\item{collapse_regions}{A logical value; if TRUE, regions are collapsed in the final prediction table.}
}
\value{
A combined prediction table (data frame).
}
\description{
Combines multiple prediction tables (e.g., from different models or regions) into a single table.
Supports weighted combination and collapsing regions.
}
\details{
For classification, this function pools class-probability columns (`prob_*`)
and returns pooled predicted class and correctness. For regression (numeric
`observed`), it pools `predicted` values and returns residual diagnostics.
}
\examples{
# Create example prediction tables
observed = factor(sample(letters[1:2], 10, replace = TRUE))
predtab1 <- data.frame(.rownum = 1:10,
                       roinum = rep(1, 10),
                       observed = observed,
                       prob_A = runif(10),
                       prob_B = runif(10))
predtab2 <- data.frame(.rownum = 1:10,
                       roinum = rep(2, 10),
                       observed = observed,
                       prob_A = runif(10),
                       prob_B = runif(10))

# Combine the tables
combined_table <- combine_prediction_tables(list(predtab1, predtab2))
}
