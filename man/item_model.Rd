% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/item_model.R
\name{item_model}
\alias{item_model}
\title{ITEM decoding model for ROI/searchlight analysis}
\usage{
item_model(
  dataset,
  design,
  mode = c("classification", "regression"),
  metric = NULL,
  ridge_u = 0,
  ridge_w = 1e-04,
  lsa_method = c("r", "cpp"),
  solver = c("chol", "svd", "pinv"),
  u_storage = c("matrix", "by_run"),
  class_levels = NULL,
  check_hash = FALSE,
  return_predictions = TRUE,
  compute_performance = TRUE,
  ...
)
}
\arguments{
\item{dataset}{An `mvpa_dataset`.}

\item{design}{An `item_design` object.}

\item{mode}{Decoding mode: `"classification"` or `"regression"`.}

\item{metric}{Optional ITEM metric.
Classification: `"accuracy"`, `"balanced_accuracy"`.
Regression: `"correlation"`, `"rmse"`.}

\item{ridge_u}{Non-negative ridge used when computing `U`.}

\item{ridge_w}{Non-negative ridge used when fitting ITEM weights per fold.}

\item{lsa_method}{LS-A backend for `fmrilss::lsa()` (`"r"` or `"cpp"`).}

\item{solver}{Solver preference for ITEM linear solves (`"chol"`, `"svd"`, `"pinv"`).}

\item{u_storage}{Store trial covariance as full matrix (`"matrix"`) or run blocks (`"by_run"`).}

\item{class_levels}{Optional class order for classification.}

\item{check_hash}{Validate trial hash before CV when available.}

\item{return_predictions}{Keep trial-level prediction tables in ROI results.}

\item{compute_performance}{Reserved for API compatibility. ITEM always
computes scalar ROI metrics for mapping.}

\item{...}{Additional fields stored on the model spec.}
}
\value{
A model spec of class `item_model` compatible with
  `run_regional()` and `run_searchlight()`.
}
\description{
Integrates ITEM-style trial-wise decoding into the `fit_roi` architecture by
delegating trial-level estimation and covariance-aware decoding to `fmrilss`.
}
\details{
Conceptually, ITEM differs from `hrfdecoder_model()` in where the decoder is
fit:
- ITEM (`item_model`) first estimates trial-wise responses (`Gamma`) via LS-A
  and then performs covariance-aware decoding on those trial estimates.
- `hrfdecoder_model` fits a continuous-time decoder directly on TR-level data
  and aggregates TR predictions to events afterward.

Use ITEM when you want an explicit trial-estimation stage and direct control
over trial covariance handling (`U`), especially for trial-level diagnostics.
}
