% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mvpa_iterate.R
\name{mvpa_iterate}
\alias{mvpa_iterate}
\title{Iterate MVPA Analysis Over Multiple ROIs}
\usage{
mvpa_iterate(
  mod_spec,
  vox_list,
  ids = 1:length(vox_list),
  batch_size = as.integer(0.1 * length(ids)),
  verbose = TRUE,
  processor = NULL,
  analysis_type = c("searchlight", "regional"),
  drop_probs = FALSE,
  fail_fast = FALSE
)
}
\arguments{
\item{mod_spec}{An MVPA model specification object containing the dataset to analyze,
compute_performance (logical indicating whether to compute performance metrics),
and return_predictions (logical indicating whether to return predictions).}

\item{vox_list}{A list of voxel indices or coordinates defining each ROI to analyze.}

\item{ids}{Vector of identifiers for each ROI analysis. Defaults to 1:length(vox_list).}

\item{batch_size}{Integer specifying number of ROIs to process per batch.
Defaults to 10\% of total ROIs.}

\item{verbose}{Logical indicating whether to print progress messages. Defaults to TRUE.}

\item{processor}{Optional custom processing function. If NULL, uses default processor.
Must accept parameters (obj, roi, rnum) and return a tibble.}

\item{analysis_type}{Character indicating the type of analysis. Defaults to "searchlight".}
}
\value{
A tibble containing results for each ROI with columns:
\describe{
  \item{result}{List column of analysis results (NULL if return_predictions=FALSE).}
  \item{indices}{List column of ROI indices used.}
  \item{performance}{List column of performance metrics (if computed).}
  \item{id}{ROI identifier.}
  \item{error}{Logical indicating if an error occurred.}
  \item{error_message}{Error message if applicable.}
  \item{warning}{Logical indicating if a warning occurred.}
  \item{warning_message}{Warning message if applicable.}
}
}
\description{
Performs multivariate pattern analysis (MVPA) across multiple regions of interest (ROIs) 
using batch processing and parallel computation.
}
\details{
The function processes ROIs in batches to manage memory usage. For each batch:
\enumerate{
  \item Extracts ROI data from the dataset.
  \item Filters out ROIs with fewer than 2 voxels.
  \item Processes each ROI using either the default or custom processor.
  \item Combines results across all batches.
}
}
